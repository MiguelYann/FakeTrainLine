(this.webpackJsonpfake_train_line=this.webpackJsonpfake_train_line||[]).push([[0],{114:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(10),s=a.n(i),l=(a(85),a(37)),o=a.n(l),c=a(23),u=a(24),d=a(26),m=a(25),p=a(27),h=(a(87),a(88),a(157)),v=a(155),g=(a(89),function(e){var t=e.handlerInput,a=e.inputLabel,n=e.inputType;e.name;return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{className:"input",variant:"filled",margin:"normal",required:!0,fullWidth:!0,type:n,label:a,onChange:t}))}),f=a(150),E=(a(93),function(e){var t=e.title,a=e.idButton,n=e.handlerOnClick,i=e.buttonType;return r.a.createElement(f.a,{id:a,variant:i,onClick:n},t)}),b=a(29),k=Object(b.e)((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Bienvenue sur"),r.a.createElement("h2",null,"FakeTrainLine"),r.a.createElement(h.a,{id:"icon-train"}),r.a.createElement("div",{className:"user-input-panel"},r.a.createElement(g,{inputLabel:"Entrer votre email",inputType:"email",handlerInput:e.handleMail}),r.a.createElement(g,{inputLabel:"Entrer votre mot de passe",inputType:"password",handlerInput:e.handlePassword}),r.a.createElement(E,{idButton:"btn-custom",buttonType:"contained",title:"Connexion",handlerOnClick:e.submitLogin})))})),S=function(e){var t,a;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o.a.awrap(fetch("https://ressources.data.sncf.com/api/records/1.0/search/?dataset=referentiel-gares-voyageurs&q=".concat(e)));case 3:t=n.sent,n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.log(" fetch failes");case 9:return n.prev=9,n.next=12,o.a.awrap(t.json());case 12:return a=n.sent,n.abrupt("return",a.records.map((function(e){return e.fields.gare_ut_libelle})));case 16:n.prev=16,n.t1=n.catch(9),console.log("gare not found");case 19:case"end":return n.stop()}}),null,null,[[0,6],[9,16]])};S("lill").then((function(e){return console.log(e)}));var I=S,A=(a(95),a(153)),O=a(152),y=a(149),D=a(151),j=a(158),w=(a(96),Object(D.a)((function(e){return Object(j.a)({root:{flexGrow:1},paper:{padding:e.spacing(2),margin:"auto",maxWidth:500},image:{width:128,height:128},img:{margin:"auto",display:"block",maxWidth:"100%",maxHeight:"100%"}})}))),T=function(e){var t=e.stationArrival,a=e.stationDestination,n=e.ticketPrice,i=w();return r.a.createElement("div",{className:i.root},r.a.createElement(y.a,{className:i.paper},r.a.createElement(O.a,{container:!0,spacing:2},r.a.createElement(O.a,{item:!0,xs:12,sm:!0,container:!0},r.a.createElement(O.a,{item:!0,xs:!0,container:!0,direction:"column",spacing:2},r.a.createElement(O.a,{item:!0,xs:!0},r.a.createElement(O.a,{item:!0},r.a.createElement(h.a,{id:"icon-train"})),r.a.createElement(A.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,r.a.createElement("span",{className:"position-gare"},"Gare de d\xe9part"),r.a.createElement("p",null,a))))),r.a.createElement(O.a,{item:!0,xs:!0},r.a.createElement(O.a,{item:!0},r.a.createElement(h.a,{id:"icon-train"})),r.a.createElement(A.a,{gutterBottom:!0},r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,r.a.createElement("span",{className:"position-gare"},"Gare d'arriv\xe9e"),r.a.createElement("p",null,t))))),r.a.createElement(O.a,{item:!0},r.a.createElement(A.a,{variant:"subtitle1"},r.a.createElement("div",{className:"divPrice"},r.a.createElement("p",{className:"position-price"}," ",n)))))))))},P=a(156),L=function(e){var t=e.handlerSelectedArrival,a=e.stationsArrival,n=e.handlerInputArrival,i=e.label;return r.a.createElement(P.a,{onChange:t,id:"combo-box-demo",options:a,style:{width:300},renderInput:function(e){return r.a.createElement(v.a,Object.assign({onChange:n},e,{label:i,variant:"outlined",fullWidth:!0}))}})},x=a(159),N=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.setState({checked:!1})},a.state={checked:!0,mutatePrice:0},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"code-promo"},r.a.createElement("p",null,"Activer code promo"),r.a.createElement(x.a,{checked:this.state.checkedA,value:"checkedA",inputProps:{"aria-label":"secondary checkbox"}}))}}]),t}(n.Component),C=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).userTicket=void 0,a.handleBtn=function(){a.setState({isEnabledTicket:!0})},a.handleBtnProfile=function(){a.props.history.push("/profile")},a.state={stationsArrival:[],isEnabledTicket:!1,userSearchDestination:"",stationsDestination:[],selectedArrival:"",handleInputArrival:function(e){return a.setState({userSearchArrival:e.target.value})},handleSelectedArrival:function(e,t){return a.setState({selectedArrival:t})},handleSelectedDestination:function(e,t){return a.setState({selectedDestination:t})},handleInputDestination:function(e){return a.setState({userSearchDestination:e.target.value})}},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){var n=this;if(this.state.userSearchArrival){var r=this.state.userSearchArrival;I(r).then((function(e){return n.setState({stationsArrival:e})}))}if(this.state.userSearchDestination){var i=this.state.userSearchDestination;I(i).then((function(e){return n.setState({stationsDestination:e})}))}}},{key:"componentDidMount",value:function(){this.userTicket=JSON.parse(localStorage.getItem("userTicket")),localStorage.getItem("userTicket")&&this.setState({stationsArrival:this.userTicket.stationsArrival,isEnabledTicket:this.userTicket.isEnabledTicket,stationsDestination:this.userTicket.stationsDestination,selectedArrival:this.userTicket.selectedArrival,selectedDestination:this.userTicket.selectedDestination})}},{key:"componentWillUpdate",value:function(e,t,a){localStorage.setItem("userTicket",JSON.stringify(t))}},{key:"render",value:function(){var e=this.state,t=e.stationsArrival,a=e.isEnabledTicket,n=e.stationsDestination,i=e.selectedArrival,s=e.selectedDestination,l=e.handleInputArrival,o=e.handleSelectedArrival,c=e.handleSelectedDestination,u=e.handleInputDestination;return this.props.isLoggedInRegistred?r.a.createElement("div",{className:"item"},r.a.createElement("h1",null,r.a.createElement("span",{id:"span-title"},"Enregistrer")," vos billets tout de suite"),a?r.a.createElement(T,{ticketPrice:"20 \u20ac",stationArrival:i,stationDestination:s}):null,r.a.createElement(E,{title:"Consulter mon profile",idButton:"btn-customProfile",handlerOnClick:this.handleBtnProfile}),r.a.createElement("div",{className:"registrer-train-arrival"},r.a.createElement(L,{handlerSelectedArrival:o,stationsArrival:t,handlerInputArrival:l,label:"Entrez votre gare d'arrivee"})),r.a.createElement("div",{className:"registrer-train-destination"},r.a.createElement(L,{handlerSelectedArrival:c,stationsArrival:n,handlerInputArrival:u,label:"Entrez votre gare d'arrivee"})),r.a.createElement("div",{id:"btn-register"},r.a.createElement(E,{title:"RESERVEZ",idButton:"btn-customRegister",handlerOnClick:this.handleBtn})),r.a.createElement(N,null)):r.a.createElement("h1",{id:"erros"},"404 ")}}]),t}(n.Component),B=Object(b.e)(C),W=a(68),M=a.n(W),F=function(e){function t(e){return Object(c.a)(this,t),Object(d.a)(this,Object(m.a)(t).call(this,e))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return this.props.isLoggedInProfile?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Mon Profile"),r.a.createElement(T,{ticketPrice:"20 \u20ac",stationArrival:this.props.selectedArrival,stationDestination:this.props.selectedDestination}),r.a.createElement(N,null)):r.a.createElement("h1",null,"Indisponible car vous n'etes pas connect\xe9")}}]),t}(n.Component),J=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).userData=void 0,a.onSubmitLogin=function(){var e;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:"https://reqres.in/api/login",e={headers:{"Content-Type":"application/json"}},M.a.post("https://reqres.in/api/login",{email:a.state.mailInput,password:a.state.passwordInput},e).then((function(e){a.setState({isLogged:!0}),a.props.history.push("/registerTrain")})).catch((function(e){console.log(a.state.isLogged),a.setState({isLogged:!1})})),a.props.history.push("/registerTrain");case 4:case"end":return t.stop()}}))},a.handleInputMail=function(e){return a.setState({mailInput:e.target.value})},a.handleInputPassword=function(e){return a.setState({passwordInput:e.target.value})},a.state={mailInput:"",passwordInput:"",isEnabledPromote:!0,isLogged:!1},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"changePromote",value:function(){this.setState({isEnabledPromote:!1})}},{key:"componentDidMount",value:function(){this.userData=JSON.parse(localStorage.getItem("user")),localStorage.getItem("user")&&this.setState({mailInput:this.userData.mailInput,passwordInput:this.userData.passwordInput,isLogged:this.userData.isLogged})}},{key:"componentWillUpdate",value:function(e,t,a){localStorage.setItem("user",JSON.stringify(t))}},{key:"render",value:function(){var e=this,t=this.state,a=t.mailInput,n=t.passwordInput,i=t.isEnabledPromote,s=t.isLogged;return r.a.createElement("div",{className:"App"},r.a.createElement(b.a,{render:function(){return r.a.createElement(k,{submitLogin:e.onSubmitLogin,isLoggedIn:s,handleMail:e.handleInputMail,handlePassword:e.handleInputPassword,email:a,password:n})},exact:!0,path:"/"}),r.a.createElement(b.a,{render:function(){return r.a.createElement(B,{isLoggedInRegistred:s})},path:"/registerTrain"}),r.a.createElement(b.a,{render:function(){return r.a.createElement(F,{isLoggedInProfile:s,isPromote:i})},path:"/profile"}))}}]),t}(n.Component),_=Object(b.e)(J);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var R=a(41);s.a.render(r.a.createElement(R.a,null,r.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},80:function(e,t,a){e.exports=a(114)},85:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},93:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){}},[[80,1,2]]]);
//# sourceMappingURL=main.49f42002.chunk.js.map